# 目前遇到的问题和解决方案

## 一
现象：公网服务器上的 server 端的 service 在开启一段时间后报错。

解决方案：发现 awesomeping.service 文件需要把 type 由 forking 改为 simple， forking 会等待服务自动 fork 出去，但是我们的服务端实际上不会 fork 出去，forking 类型的服务是面向什么需求暂时不清楚。

## 二
现象：同时对一个服务器开启两次测速会导致网速变得很慢。

解决方案：对测速和测延迟操作加锁，上次没测完，需要等待测完才能开启下一次测试。

## 三
现象：在面对网络情况不同的服务器时，网络速度慢的测网速可能需要非常久

解决方案：在客户端添加超时操作，在等待足够长时间后，直接按当前结果结算网速。
